
cell(0..7, 0..7).
block(0, 0).
block(0, 1).
block(0, 2).
block(0, 3).
block(0, 4).
block(0, 5).
block(0, 6).
block(0, 7).
block(1, 0).
block(1, 7).
block(2, 0).
block(2, 7).
block(3, 0).
block(3, 7).
block(4, 0).
block(4, 7).
block(5, 0).
block(5, 7).
block(6, 0).
block(6, 7).
block(7, 0).
block(7, 1).
block(7, 2).
block(7, 3).
block(7, 4).
block(7, 5).
block(7, 6).
block(7, 7).

goal1(G) :- G = (1, 1).
goal2(G) :- G = (6, 6).

gState(S) :-S = (L1, L2, G1, G2), 
	L1 != L2, 
	goal1(G1), goal2(G2), 
	L1 = (X1, Y1), cell(X1, Y1), not block(X1, Y1),
	L2 = (X2, Y2), cell(X2, Y2), not block(X2, Y2).

trans(S1, A1, A2, S2) :- gState(S1), gState(S2), 
	S1 = (L11, L12, G11, G12),
	S2 = (L21, L22, G21, G22),
	L11 = (X11, Y11), L12 = (X12, Y12),
	L21 = (X21, Y21), L22 = (X22, Y22),
	move(X11, Y11, A1, X21, Y21),
	move(X12, Y12, A2, X22, Y22),
	(L11, L12) != (L22, L21).

move(X, Y, up, X-1, Y) :- action(X, Y, up).
move(X, Y, down, X+1, Y) :- action(X, Y, down).
move(X, Y, left, X, Y-1) :- action(X, Y, left).
move(X, Y, right, X, Y+1) :- action(X, Y, right).
move(X, Y, nil, X, Y) :- action(X, Y, nil).

action(X, Y, up) :- cell(X, Y), cell(X-1, Y),
	not block(X, Y), not block(X-1, Y).
action(X, Y, down) :- cell(X, Y), cell(X+1, Y),
	not block(X, Y), not block(X+1, Y).
action(X, Y, left) :- cell(X, Y), cell(X, Y-1),
	not block(X, Y), not block(X, Y-1).
action(X, Y, right) :- cell(X, Y), cell(X, Y+1),
	not block(X, Y), not block(X, Y+1).
action(X, Y, nil) :- cell(X, Y), cell(X, Y),
	not block(X, Y), not block(X, Y).

goal_gState(S) :- gState(S),
	S = (G1, G2, G1, G2),
	goal1(G1), goal2(G2).

aState(AS) :- AS = (Self, Other2, Goal),
	Self = (X, Y), cell(X, Y), not block(X, Y),
	Goal = (Xg, Yg), cell(Xg, Yg), not block(Xg, Yg),
	near(Self, Other2).

near(Self, empty) :- Self = (X1, Y1), cell(X1, Y1).
near(Self, Other) :- Self != Other,
    Self = (X1, Y1), Other = (X2, Y2),
    |X1-X2| <= 2, |Y1-Y2| <= 2,
    cell(X1, Y1), cell(X2, Y2),
    not block(X1, Y1), not block(X2, Y2).

avai_action(AS, Action) :- aState(AS),
	AS = (Self, _, _),
	Self = (X, Y), action(X, Y, Action).

goal1_aState(AS) :- aState(AS), AS = (G1, _, G1), goal1(G1).
goal2_aState(AS) :- aState(AS), AS = (G2, _, G2), goal2(G2).

obs1(S, AS) :- gState(S),
	S = (L1, L2, G1, G2), 
	Self = L1, (Others2) = (L2),
	aState(AS), AS = (Self, L2, G1),
	near(Self, L2).
obs1(S, AS) :- gState(S),
	S = (L1, L2, G1, G2), 
	Self = L1, (Others2) = (L2),
	aState(AS), AS = (Self, empty, G1),
	not near(Self, L2).
obs2(S, AS) :- gState(S),
	S = (L1, L2, G1, G2), 
	Self = L2, (Others2) = (L1),
	aState(AS), AS = (Self, L1, G2),
	near(Self, L1).
obs2(S, AS) :- gState(S),
	S = (L1, L2, G1, G2), 
	Self = L2, (Others2) = (L1),
	aState(AS), AS = (Self, empty, G2),
	not near(Self, L1).

p1((1,1),empty,nil).
p1((1,1),(1,2),nil).
p1((1,1),(1,3),nil).
p1((1,1),(2,1),nil).
p1((1,1),(2,2),nil).
p1((1,1),(2,3),nil).
p1((1,1),(3,1),nil).
p1((1,1),(3,2),nil).
p1((1,1),(3,3),nil).
p1((2,1),empty,nil).
p1((2,1),(1,1),up).
p1((2,1),(1,2),up).
p1((2,1),(1,3),nil).
p1((2,1),(2,2),nil).
p1((2,1),(2,3),right).
p1((2,1),(3,1),nil).
p1((2,1),(3,2),right).
p1((2,1),(3,3),nil).
p1((2,1),(4,1),down).
p1((2,1),(4,2),nil).
p1((2,1),(4,3),nil).
p1((2,2),empty,nil).
p1((2,2),(1,1),left).
p1((2,2),(1,2),nil).
p1((2,2),(1,3),right).
p1((2,2),(1,4),nil).
p1((2,2),(2,1),nil).
p1((2,2),(2,3),nil).
p1((2,2),(2,4),right).
p1((2,2),(3,1),left).
p1((2,2),(3,2),nil).
p1((2,2),(3,3),right).
p1((2,2),(3,4),nil).
p1((2,2),(4,1),nil).
p1((2,2),(4,2),down).
p1((2,2),(4,3),nil).
p1((2,2),(4,4),nil).
p1((2,3),empty,nil).
p1((2,3),(1,1),nil).
p1((2,3),(1,2),left).
p1((2,3),(1,3),nil).
p1((2,3),(1,4),right).
p1((2,3),(1,5),nil).
p1((2,3),(2,1),left).
p1((2,3),(2,2),nil).
p1((2,3),(2,4),nil).
p1((2,3),(2,5),right).
p1((2,3),(3,1),nil).
p1((2,3),(3,2),left).
p1((2,3),(3,3),nil).
p1((2,3),(3,4),right).
p1((2,3),(3,5),nil).
p1((2,3),(4,1),nil).
p1((2,3),(4,2),nil).
p1((2,3),(4,3),down).
p1((2,3),(4,4),nil).
p1((2,3),(4,5),nil).
p1((2,4),empty,nil).
p1((2,4),(1,2),nil).
p1((2,4),(1,3),left).
p1((2,4),(1,4),nil).
p1((2,4),(1,5),right).
p1((2,4),(1,6),nil).
p1((2,4),(2,2),left).
p1((2,4),(2,3),nil).
p1((2,4),(2,5),nil).
p1((2,4),(2,6),right).
p1((2,4),(3,2),nil).
p1((2,4),(3,3),left).
p1((2,4),(3,4),nil).
p1((2,4),(3,5),right).
p1((2,4),(3,6),nil).
p1((2,4),(4,2),nil).
p1((2,4),(4,3),nil).
p1((2,4),(4,4),down).
p1((2,4),(4,5),nil).
p1((2,4),(4,6),nil).
p1((2,5),empty,nil).
p1((2,5),(1,3),nil).
p1((2,5),(1,4),left).
p1((2,5),(1,5),nil).
p1((2,5),(1,6),right).
p1((2,5),(2,3),left).
p1((2,5),(2,4),nil).
p1((2,5),(2,6),nil).
p1((2,5),(3,3),nil).
p1((2,5),(3,4),left).
p1((2,5),(3,5),nil).
p1((2,5),(3,6),right).
p1((2,5),(4,3),nil).
p1((2,5),(4,4),nil).
p1((2,5),(4,5),down).
p1((2,5),(4,6),nil).
p1((2,6),empty,nil).
p1((2,6),(1,4),nil).
p1((2,6),(1,5),up).
p1((2,6),(1,6),nil).
p1((2,6),(2,4),left).
p1((2,6),(2,5),nil).
p1((2,6),(3,4),nil).
p1((2,6),(3,5),left).
p1((2,6),(3,6),nil).
p1((2,6),(4,4),nil).
p1((2,6),(4,5),nil).
p1((2,6),(4,6),down).
p1((3,1),empty,nil).
p1((3,1),(1,1),up).
p1((3,1),(1,2),nil).
p1((3,1),(1,3),nil).
p1((3,1),(2,1),nil).
p1((3,1),(2,2),right).
p1((3,1),(2,3),nil).
p1((3,1),(3,2),nil).
p1((3,1),(3,3),right).
p1((3,1),(4,1),nil).
p1((3,1),(4,2),right).
p1((3,1),(4,3),nil).
p1((3,1),(5,1),down).
p1((3,1),(5,2),nil).
p1((3,1),(5,3),nil).
p1((3,2),empty,nil).
p1((3,2),(1,1),nil).
p1((3,2),(1,2),up).
p1((3,2),(1,3),nil).
p1((3,2),(1,4),nil).
p1((3,2),(2,1),left).
p1((3,2),(2,2),nil).
p1((3,2),(2,3),right).
p1((3,2),(2,4),nil).
p1((3,2),(3,1),nil).
p1((3,2),(3,3),nil).
p1((3,2),(3,4),right).
p1((3,2),(4,1),left).
p1((3,2),(4,2),nil).
p1((3,2),(4,3),right).
p1((3,2),(4,4),nil).
p1((3,2),(5,1),nil).
p1((3,2),(5,2),down).
p1((3,2),(5,3),nil).
p1((3,2),(5,4),nil).
p1((3,3),empty,nil).
p1((3,3),(1,1),nil).
p1((3,3),(1,2),nil).
p1((3,3),(1,3),up).
p1((3,3),(1,4),nil).
p1((3,3),(1,5),nil).
p1((3,3),(2,1),nil).
p1((3,3),(2,2),left).
p1((3,3),(2,3),nil).
p1((3,3),(2,4),right).
p1((3,3),(2,5),nil).
p1((3,3),(3,1),left).
p1((3,3),(3,2),nil).
p1((3,3),(3,4),nil).
p1((3,3),(3,5),right).
p1((3,3),(4,1),nil).
p1((3,3),(4,2),left).
p1((3,3),(4,3),nil).
p1((3,3),(4,4),right).
p1((3,3),(4,5),nil).
p1((3,3),(5,1),nil).
p1((3,3),(5,2),nil).
p1((3,3),(5,3),down).
p1((3,3),(5,4),nil).
p1((3,3),(5,5),nil).
p1((3,4),empty,nil).
p1((3,4),(1,2),nil).
p1((3,4),(1,3),nil).
p1((3,4),(1,4),up).
p1((3,4),(1,5),nil).
p1((3,4),(1,6),nil).
p1((3,4),(2,2),nil).
p1((3,4),(2,3),left).
p1((3,4),(2,4),nil).
p1((3,4),(2,5),right).
p1((3,4),(2,6),nil).
p1((3,4),(3,2),left).
p1((3,4),(3,3),nil).
p1((3,4),(3,5),nil).
p1((3,4),(3,6),right).
p1((3,4),(4,2),nil).
p1((3,4),(4,3),left).
p1((3,4),(4,4),nil).
p1((3,4),(4,5),right).
p1((3,4),(4,6),nil).
p1((3,4),(5,2),nil).
p1((3,4),(5,3),nil).
p1((3,4),(5,4),down).
p1((3,4),(5,5),nil).
p1((3,4),(5,6),nil).
p1((3,5),empty,nil).
p1((3,5),(1,3),nil).
p1((3,5),(1,4),nil).
p1((3,5),(1,5),up).
p1((3,5),(1,6),nil).
p1((3,5),(2,3),nil).
p1((3,5),(2,4),left).
p1((3,5),(2,5),nil).
p1((3,5),(2,6),right).
p1((3,5),(3,3),left).
p1((3,5),(3,4),nil).
p1((3,5),(3,6),nil).
p1((3,5),(4,3),nil).
p1((3,5),(4,4),left).
p1((3,5),(4,5),nil).
p1((3,5),(4,6),right).
p1((3,5),(5,3),nil).
p1((3,5),(5,4),nil).
p1((3,5),(5,5),down).
p1((3,5),(5,6),nil).
p1((3,6),empty,nil).
p1((3,6),(1,4),nil).
p1((3,6),(1,5),nil).
p1((3,6),(1,6),up).
p1((3,6),(2,4),nil).
p1((3,6),(2,5),left).
p1((3,6),(2,6),nil).
p1((3,6),(3,4),left).
p1((3,6),(3,5),nil).
p1((3,6),(4,4),nil).
p1((3,6),(4,5),left).
p1((3,6),(4,6),nil).
p1((3,6),(5,4),nil).
p1((3,6),(5,5),nil).
p1((3,6),(5,6),down).
p1((4,1),empty,nil).
p1((4,1),(2,1),up).
p1((4,1),(2,2),nil).
p1((4,1),(2,3),nil).
p1((4,1),(3,1),nil).
p1((4,1),(3,2),right).
p1((4,1),(3,3),nil).
p1((4,1),(4,2),nil).
p1((4,1),(4,3),right).
p1((4,1),(5,1),nil).
p1((4,1),(5,2),right).
p1((4,1),(5,3),nil).
p1((4,1),(6,1),down).
p1((4,1),(6,2),nil).
p1((4,1),(6,3),nil).
p1((4,2),empty,nil).
p1((4,2),(2,1),nil).
p1((4,2),(2,2),up).
p1((4,2),(2,3),nil).
p1((4,2),(2,4),nil).
p1((4,2),(3,1),left).
p1((4,2),(3,2),nil).
p1((4,2),(3,3),right).
p1((4,2),(3,4),nil).
p1((4,2),(4,1),nil).
p1((4,2),(4,3),nil).
p1((4,2),(4,4),right).
p1((4,2),(5,1),left).
p1((4,2),(5,2),nil).
p1((4,2),(5,3),right).
p1((4,2),(5,4),nil).
p1((4,2),(6,1),nil).
p1((4,2),(6,2),down).
p1((4,2),(6,3),nil).
p1((4,2),(6,4),nil).
p1((4,3),empty,nil).
p1((4,3),(2,1),nil).
p1((4,3),(2,2),nil).
p1((4,3),(2,3),up).
p1((4,3),(2,4),nil).
p1((4,3),(2,5),nil).
p1((4,3),(3,1),nil).
p1((4,3),(3,2),left).
p1((4,3),(3,3),nil).
p1((4,3),(3,4),right).
p1((4,3),(3,5),nil).
p1((4,3),(4,1),left).
p1((4,3),(4,2),nil).
p1((4,3),(4,4),nil).
p1((4,3),(4,5),right).
p1((4,3),(5,1),nil).
p1((4,3),(5,2),left).
p1((4,3),(5,3),nil).
p1((4,3),(5,4),right).
p1((4,3),(5,5),nil).
p1((4,3),(6,1),nil).
p1((4,3),(6,2),nil).
p1((4,3),(6,3),down).
p1((4,3),(6,4),nil).
p1((4,3),(6,5),nil).
p1((4,4),empty,nil).
p1((4,4),(2,2),nil).
p1((4,4),(2,3),nil).
p1((4,4),(2,4),up).
p1((4,4),(2,5),nil).
p1((4,4),(2,6),nil).
p1((4,4),(3,2),nil).
p1((4,4),(3,3),left).
p1((4,4),(3,4),nil).
p1((4,4),(3,5),right).
p1((4,4),(3,6),nil).
p1((4,4),(4,2),left).
p1((4,4),(4,3),nil).
p1((4,4),(4,5),nil).
p1((4,4),(4,6),right).
p1((4,4),(5,2),nil).
p1((4,4),(5,3),left).
p1((4,4),(5,4),nil).
p1((4,4),(5,5),right).
p1((4,4),(5,6),nil).
p1((4,4),(6,2),nil).
p1((4,4),(6,3),nil).
p1((4,4),(6,4),down).
p1((4,4),(6,5),nil).
p1((4,4),(6,6),nil).
p1((4,5),empty,nil).
p1((4,5),(2,3),nil).
p1((4,5),(2,4),nil).
p1((4,5),(2,5),up).
p1((4,5),(2,6),nil).
p1((4,5),(3,3),nil).
p1((4,5),(3,4),left).
p1((4,5),(3,5),nil).
p1((4,5),(3,6),right).
p1((4,5),(4,3),left).
p1((4,5),(4,4),nil).
p1((4,5),(4,6),nil).
p1((4,5),(5,3),nil).
p1((4,5),(5,4),left).
p1((4,5),(5,5),nil).
p1((4,5),(5,6),right).
p1((4,5),(6,3),nil).
p1((4,5),(6,4),nil).
p1((4,5),(6,5),down).
p1((4,5),(6,6),nil).
p1((4,6),empty,nil).
p1((4,6),(2,4),nil).
p1((4,6),(2,5),nil).
p1((4,6),(2,6),up).
p1((4,6),(3,4),nil).
p1((4,6),(3,5),left).
p1((4,6),(3,6),nil).
p1((4,6),(4,4),left).
p1((4,6),(4,5),nil).
p1((4,6),(5,4),nil).
p1((4,6),(5,5),left).
p1((4,6),(5,6),nil).
p1((4,6),(6,4),nil).
p1((4,6),(6,5),nil).
p1((4,6),(6,6),down).
p1((5,1),empty,nil).
p1((5,1),(3,1),up).
p1((5,1),(3,2),nil).
p1((5,1),(3,3),nil).
p1((5,1),(4,1),nil).
p1((5,1),(4,2),right).
p1((5,1),(4,3),nil).
p1((5,1),(5,2),nil).
p1((5,1),(5,3),right).
p1((5,1),(6,1),nil).
p1((5,1),(6,2),down).
p1((5,1),(6,3),nil).
p1((5,2),empty,nil).
p1((5,2),(3,1),nil).
p1((5,2),(3,2),up).
p1((5,2),(3,3),nil).
p1((5,2),(3,4),nil).
p1((5,2),(4,1),up).
p1((5,2),(4,2),nil).
p1((5,2),(4,3),right).
p1((5,2),(4,4),nil).
p1((5,2),(5,1),nil).
p1((5,2),(5,3),nil).
p1((5,2),(5,4),right).
p1((5,2),(6,1),down).
p1((5,2),(6,2),nil).
p1((5,2),(6,3),right).
p1((5,2),(6,4),nil).
p1((5,3),empty,nil).
p1((5,3),(3,1),nil).
p1((5,3),(3,2),nil).
p1((5,3),(3,3),up).
p1((5,3),(3,4),nil).
p1((5,3),(3,5),nil).
p1((5,3),(4,1),nil).
p1((5,3),(4,2),left).
p1((5,3),(4,3),nil).
p1((5,3),(4,4),right).
p1((5,3),(4,5),nil).
p1((5,3),(5,1),left).
p1((5,3),(5,2),nil).
p1((5,3),(5,4),nil).
p1((5,3),(5,5),right).
p1((5,3),(6,1),nil).
p1((5,3),(6,2),left).
p1((5,3),(6,3),nil).
p1((5,3),(6,4),down).
p1((5,3),(6,5),nil).
p1((5,4),empty,nil).
p1((5,4),(3,2),nil).
p1((5,4),(3,3),nil).
p1((5,4),(3,4),up).
p1((5,4),(3,5),nil).
p1((5,4),(3,6),nil).
p1((5,4),(4,2),nil).
p1((5,4),(4,3),left).
p1((5,4),(4,4),nil).
p1((5,4),(4,5),right).
p1((5,4),(4,6),nil).
p1((5,4),(5,2),left).
p1((5,4),(5,3),nil).
p1((5,4),(5,5),nil).
p1((5,4),(5,6),right).
p1((5,4),(6,2),nil).
p1((5,4),(6,3),left).
p1((5,4),(6,4),nil).
p1((5,4),(6,5),right).
p1((5,4),(6,6),nil).
p1((5,5),empty,nil).
p1((5,5),(3,3),nil).
p1((5,5),(3,4),nil).
p1((5,5),(3,5),up).
p1((5,5),(3,6),nil).
p1((5,5),(4,3),nil).
p1((5,5),(4,4),left).
p1((5,5),(4,5),nil).
p1((5,5),(4,6),right).
p1((5,5),(5,3),left).
p1((5,5),(5,4),nil).
p1((5,5),(5,6),nil).
p1((5,5),(6,3),nil).
p1((5,5),(6,4),left).
p1((5,5),(6,5),nil).
p1((5,5),(6,6),right).
p1((5,6),empty,nil).
p1((5,6),(3,4),nil).
p1((5,6),(3,5),nil).
p1((5,6),(3,6),up).
p1((5,6),(4,4),nil).
p1((5,6),(4,5),left).
p1((5,6),(4,6),nil).
p1((5,6),(5,4),left).
p1((5,6),(5,5),nil).
p1((5,6),(6,4),nil).
p1((5,6),(6,5),left).
p1((5,6),(6,6),nil).
p1((6,1),empty,nil).
p1((6,1),(4,1),up).
p1((6,1),(4,2),nil).
p1((6,1),(4,3),nil).
p1((6,1),(5,1),nil).
p1((6,1),(5,2),right).
p1((6,1),(5,3),nil).
p1((6,1),(6,2),nil).
p1((6,1),(6,3),right).
p1((6,2),empty,nil).
p1((6,2),(4,1),nil).
p1((6,2),(4,2),up).
p1((6,2),(4,3),nil).
p1((6,2),(4,4),nil).
p1((6,2),(5,1),left).
p1((6,2),(5,2),nil).
p1((6,2),(5,3),right).
p1((6,2),(5,4),nil).
p1((6,2),(6,1),nil).
p1((6,2),(6,3),nil).
p1((6,2),(6,4),right).
p1((6,3),empty,nil).
p1((6,3),(4,1),nil).
p1((6,3),(4,2),nil).
p1((6,3),(4,3),up).
p1((6,3),(4,4),nil).
p1((6,3),(4,5),nil).
p1((6,3),(5,1),nil).
p1((6,3),(5,2),left).
p1((6,3),(5,3),nil).
p1((6,3),(5,4),right).
p1((6,3),(5,5),nil).
p1((6,3),(6,1),left).
p1((6,3),(6,2),nil).
p1((6,3),(6,4),nil).
p1((6,3),(6,5),right).
p1((6,4),empty,nil).
p1((6,4),(4,2),nil).
p1((6,4),(4,3),nil).
p1((6,4),(4,4),up).
p1((6,4),(4,5),nil).
p1((6,4),(4,6),nil).
p1((6,4),(5,2),nil).
p1((6,4),(5,3),left).
p1((6,4),(5,4),nil).
p1((6,4),(5,5),right).
p1((6,4),(5,6),nil).
p1((6,4),(6,2),left).
p1((6,4),(6,3),nil).
p1((6,4),(6,5),nil).
p1((6,4),(6,6),right).
p1((6,5),empty,nil).
p1((6,5),(4,3),nil).
p1((6,5),(4,4),nil).
p1((6,5),(4,5),up).
p1((6,5),(4,6),nil).
p1((6,5),(5,3),nil).
p1((6,5),(5,4),left).
p1((6,5),(5,5),nil).
p1((6,5),(5,6),right).
p1((6,5),(6,3),left).
p1((6,5),(6,4),nil).
p1((6,5),(6,6),nil).
p1((6,6),empty,nil).
p1((6,6),(4,4),nil).
p1((6,6),(4,5),nil).
p1((6,6),(4,6),up).
p1((6,6),(5,4),nil).
p1((6,6),(5,5),up).
p1((6,6),(5,6),nil).
p1((6,6),(6,4),left).
p1((6,6),(6,5),nil).
p1((1,2),empty,nil).
p1((1,2),(1,1),left).
p1((1,2),(1,3),nil).
p1((1,2),(1,4),right).
p1((1,2),(2,1),left).
p1((1,2),(2,2),nil).
p1((1,2),(2,3),right).
p1((1,2),(2,4),nil).
p1((1,2),(3,1),nil).
p1((1,2),(3,2),down).
p1((1,2),(3,3),nil).
p1((1,2),(3,4),nil).
p1((1,3),empty,nil).
p1((1,3),(1,1),left).
p1((1,3),(1,2),nil).
p1((1,3),(1,4),nil).
p1((1,3),(1,5),right).
p1((1,3),(2,1),nil).
p1((1,3),(2,2),left).
p1((1,3),(2,3),nil).
p1((1,3),(2,4),right).
p1((1,3),(2,5),nil).
p1((1,3),(3,1),nil).
p1((1,3),(3,2),nil).
p1((1,3),(3,3),down).
p1((1,3),(3,4),nil).
p1((1,3),(3,5),nil).
p1((1,4),empty,nil).
p1((1,4),(1,2),left).
p1((1,4),(1,3),nil).
p1((1,4),(1,5),nil).
p1((1,4),(1,6),right).
p1((1,4),(2,2),nil).
p1((1,4),(2,3),left).
p1((1,4),(2,4),nil).
p1((1,4),(2,5),right).
p1((1,4),(2,6),nil).
p1((1,4),(3,2),nil).
p1((1,4),(3,3),nil).
p1((1,4),(3,4),down).
p1((1,4),(3,5),nil).
p1((1,4),(3,6),nil).
p1((1,5),empty,nil).
p1((1,5),(1,3),left).
p1((1,5),(1,4),nil).
p1((1,5),(1,6),nil).
p1((1,5),(2,3),nil).
p1((1,5),(2,4),left).
p1((1,5),(2,5),nil).
p1((1,5),(2,6),right).
p1((1,5),(3,3),nil).
p1((1,5),(3,4),nil).
p1((1,5),(3,5),down).
p1((1,5),(3,6),nil).
p1((1,6),empty,nil).
p1((1,6),(1,4),left).
p1((1,6),(1,5),nil).
p1((1,6),(2,4),nil).
p1((1,6),(2,5),down).
p1((1,6),(2,6),nil).
p1((1,6),(3,4),nil).
p1((1,6),(3,5),nil).
p1((1,6),(3,6),down).

p2((6,6),empty,nil).
p2((6,6),(4,4),nil).
p2((6,6),(4,5),nil).
p2((6,6),(4,6),nil).
p2((6,6),(5,4),nil).
p2((6,6),(5,5),nil).
p2((6,6),(5,6),nil).
p2((6,6),(6,4),nil).
p2((6,6),(6,5),nil).
p2((2,1),empty,nil).
p2((2,1),(1,1),nil).
p2((2,1),(1,2),right).
p2((2,1),(1,3),nil).
p2((2,1),(2,2),nil).
p2((2,1),(2,3),right).
p2((2,1),(3,1),nil).
p2((2,1),(3,2),right).
p2((2,1),(3,3),nil).
p2((2,1),(4,1),down).
p2((2,1),(4,2),nil).
p2((2,1),(4,3),nil).
p2((2,2),empty,nil).
p2((2,2),(1,1),left).
p2((2,2),(1,2),nil).
p2((2,2),(1,3),right).
p2((2,2),(1,4),nil).
p2((2,2),(2,1),nil).
p2((2,2),(2,3),nil).
p2((2,2),(2,4),right).
p2((2,2),(3,1),down).
p2((2,2),(3,2),nil).
p2((2,2),(3,3),right).
p2((2,2),(3,4),nil).
p2((2,2),(4,1),nil).
p2((2,2),(4,2),down).
p2((2,2),(4,3),nil).
p2((2,2),(4,4),nil).
p2((2,3),empty,nil).
p2((2,3),(1,1),nil).
p2((2,3),(1,2),left).
p2((2,3),(1,3),nil).
p2((2,3),(1,4),right).
p2((2,3),(1,5),nil).
p2((2,3),(2,1),left).
p2((2,3),(2,2),nil).
p2((2,3),(2,4),nil).
p2((2,3),(2,5),right).
p2((2,3),(3,1),nil).
p2((2,3),(3,2),left).
p2((2,3),(3,3),nil).
p2((2,3),(3,4),right).
p2((2,3),(3,5),nil).
p2((2,3),(4,1),nil).
p2((2,3),(4,2),nil).
p2((2,3),(4,3),down).
p2((2,3),(4,4),nil).
p2((2,3),(4,5),nil).
p2((2,4),empty,nil).
p2((2,4),(1,2),nil).
p2((2,4),(1,3),left).
p2((2,4),(1,4),nil).
p2((2,4),(1,5),right).
p2((2,4),(1,6),nil).
p2((2,4),(2,2),left).
p2((2,4),(2,3),nil).
p2((2,4),(2,5),nil).
p2((2,4),(2,6),right).
p2((2,4),(3,2),nil).
p2((2,4),(3,3),left).
p2((2,4),(3,4),nil).
p2((2,4),(3,5),right).
p2((2,4),(3,6),nil).
p2((2,4),(4,2),nil).
p2((2,4),(4,3),nil).
p2((2,4),(4,4),down).
p2((2,4),(4,5),nil).
p2((2,4),(4,6),nil).
p2((2,5),empty,nil).
p2((2,5),(1,3),nil).
p2((2,5),(1,4),up).
p2((2,5),(1,5),nil).
p2((2,5),(1,6),right).
p2((2,5),(2,3),left).
p2((2,5),(2,4),nil).
p2((2,5),(2,6),nil).
p2((2,5),(3,3),nil).
p2((2,5),(3,4),left).
p2((2,5),(3,5),nil).
p2((2,5),(3,6),right).
p2((2,5),(4,3),nil).
p2((2,5),(4,4),nil).
p2((2,5),(4,5),down).
p2((2,5),(4,6),nil).
p2((2,6),empty,nil).
p2((2,6),(1,4),nil).
p2((2,6),(1,5),left).
p2((2,6),(1,6),nil).
p2((2,6),(2,4),left).
p2((2,6),(2,5),nil).
p2((2,6),(3,4),nil).
p2((2,6),(3,5),left).
p2((2,6),(3,6),nil).
p2((2,6),(4,4),nil).
p2((2,6),(4,5),nil).
p2((2,6),(4,6),down).
p2((3,1),empty,nil).
p2((3,1),(1,1),up).
p2((3,1),(1,2),nil).
p2((3,1),(1,3),nil).
p2((3,1),(2,1),nil).
p2((3,1),(2,2),right).
p2((3,1),(2,3),nil).
p2((3,1),(3,2),nil).
p2((3,1),(3,3),right).
p2((3,1),(4,1),nil).
p2((3,1),(4,2),right).
p2((3,1),(4,3),nil).
p2((3,1),(5,1),down).
p2((3,1),(5,2),nil).
p2((3,1),(5,3),nil).
p2((3,2),empty,nil).
p2((3,2),(1,1),nil).
p2((3,2),(1,2),up).
p2((3,2),(1,3),nil).
p2((3,2),(1,4),nil).
p2((3,2),(2,1),left).
p2((3,2),(2,2),nil).
p2((3,2),(2,3),right).
p2((3,2),(2,4),nil).
p2((3,2),(3,1),nil).
p2((3,2),(3,3),nil).
p2((3,2),(3,4),right).
p2((3,2),(4,1),down).
p2((3,2),(4,2),nil).
p2((3,2),(4,3),right).
p2((3,2),(4,4),nil).
p2((3,2),(5,1),nil).
p2((3,2),(5,2),down).
p2((3,2),(5,3),nil).
p2((3,2),(5,4),nil).
p2((3,3),empty,nil).
p2((3,3),(1,1),nil).
p2((3,3),(1,2),nil).
p2((3,3),(1,3),up).
p2((3,3),(1,4),nil).
p2((3,3),(1,5),nil).
p2((3,3),(2,1),nil).
p2((3,3),(2,2),left).
p2((3,3),(2,3),nil).
p2((3,3),(2,4),right).
p2((3,3),(2,5),nil).
p2((3,3),(3,1),left).
p2((3,3),(3,2),nil).
p2((3,3),(3,4),nil).
p2((3,3),(3,5),right).
p2((3,3),(4,1),nil).
p2((3,3),(4,2),left).
p2((3,3),(4,3),nil).
p2((3,3),(4,4),right).
p2((3,3),(4,5),nil).
p2((3,3),(5,1),nil).
p2((3,3),(5,2),nil).
p2((3,3),(5,3),down).
p2((3,3),(5,4),nil).
p2((3,3),(5,5),nil).
p2((3,4),empty,nil).
p2((3,4),(1,2),nil).
p2((3,4),(1,3),nil).
p2((3,4),(1,4),up).
p2((3,4),(1,5),nil).
p2((3,4),(1,6),nil).
p2((3,4),(2,2),nil).
p2((3,4),(2,3),left).
p2((3,4),(2,4),nil).
p2((3,4),(2,5),right).
p2((3,4),(2,6),nil).
p2((3,4),(3,2),left).
p2((3,4),(3,3),nil).
p2((3,4),(3,5),nil).
p2((3,4),(3,6),right).
p2((3,4),(4,2),nil).
p2((3,4),(4,3),left).
p2((3,4),(4,4),nil).
p2((3,4),(4,5),right).
p2((3,4),(4,6),nil).
p2((3,4),(5,2),nil).
p2((3,4),(5,3),nil).
p2((3,4),(5,4),down).
p2((3,4),(5,5),nil).
p2((3,4),(5,6),nil).
p2((3,5),empty,nil).
p2((3,5),(1,3),nil).
p2((3,5),(1,4),nil).
p2((3,5),(1,5),up).
p2((3,5),(1,6),nil).
p2((3,5),(2,3),nil).
p2((3,5),(2,4),left).
p2((3,5),(2,5),nil).
p2((3,5),(2,6),right).
p2((3,5),(3,3),left).
p2((3,5),(3,4),nil).
p2((3,5),(3,6),nil).
p2((3,5),(4,3),nil).
p2((3,5),(4,4),left).
p2((3,5),(4,5),nil).
p2((3,5),(4,6),right).
p2((3,5),(5,3),nil).
p2((3,5),(5,4),nil).
p2((3,5),(5,5),down).
p2((3,5),(5,6),nil).
p2((3,6),empty,nil).
p2((3,6),(1,4),nil).
p2((3,6),(1,5),nil).
p2((3,6),(1,6),up).
p2((3,6),(2,4),nil).
p2((3,6),(2,5),left).
p2((3,6),(2,6),nil).
p2((3,6),(3,4),left).
p2((3,6),(3,5),nil).
p2((3,6),(4,4),nil).
p2((3,6),(4,5),left).
p2((3,6),(4,6),nil).
p2((3,6),(5,4),nil).
p2((3,6),(5,5),nil).
p2((3,6),(5,6),down).
p2((4,1),empty,nil).
p2((4,1),(2,1),up).
p2((4,1),(2,2),nil).
p2((4,1),(2,3),nil).
p2((4,1),(3,1),nil).
p2((4,1),(3,2),right).
p2((4,1),(3,3),nil).
p2((4,1),(4,2),nil).
p2((4,1),(4,3),right).
p2((4,1),(5,1),nil).
p2((4,1),(5,2),right).
p2((4,1),(5,3),nil).
p2((4,1),(6,1),down).
p2((4,1),(6,2),nil).
p2((4,1),(6,3),nil).
p2((4,2),empty,nil).
p2((4,2),(2,1),nil).
p2((4,2),(2,2),up).
p2((4,2),(2,3),nil).
p2((4,2),(2,4),nil).
p2((4,2),(3,1),left).
p2((4,2),(3,2),nil).
p2((4,2),(3,3),right).
p2((4,2),(3,4),nil).
p2((4,2),(4,1),nil).
p2((4,2),(4,3),nil).
p2((4,2),(4,4),right).
p2((4,2),(5,1),down).
p2((4,2),(5,2),nil).
p2((4,2),(5,3),right).
p2((4,2),(5,4),nil).
p2((4,2),(6,1),nil).
p2((4,2),(6,2),down).
p2((4,2),(6,3),nil).
p2((4,2),(6,4),nil).
p2((4,3),empty,nil).
p2((4,3),(2,1),nil).
p2((4,3),(2,2),nil).
p2((4,3),(2,3),up).
p2((4,3),(2,4),nil).
p2((4,3),(2,5),nil).
p2((4,3),(3,1),nil).
p2((4,3),(3,2),left).
p2((4,3),(3,3),nil).
p2((4,3),(3,4),right).
p2((4,3),(3,5),nil).
p2((4,3),(4,1),left).
p2((4,3),(4,2),nil).
p2((4,3),(4,4),nil).
p2((4,3),(4,5),right).
p2((4,3),(5,1),nil).
p2((4,3),(5,2),left).
p2((4,3),(5,3),nil).
p2((4,3),(5,4),right).
p2((4,3),(5,5),nil).
p2((4,3),(6,1),nil).
p2((4,3),(6,2),nil).
p2((4,3),(6,3),down).
p2((4,3),(6,4),nil).
p2((4,3),(6,5),nil).
p2((4,4),empty,nil).
p2((4,4),(2,2),nil).
p2((4,4),(2,3),nil).
p2((4,4),(2,4),up).
p2((4,4),(2,5),nil).
p2((4,4),(2,6),nil).
p2((4,4),(3,2),nil).
p2((4,4),(3,3),left).
p2((4,4),(3,4),nil).
p2((4,4),(3,5),right).
p2((4,4),(3,6),nil).
p2((4,4),(4,2),left).
p2((4,4),(4,3),nil).
p2((4,4),(4,5),nil).
p2((4,4),(4,6),right).
p2((4,4),(5,2),nil).
p2((4,4),(5,3),left).
p2((4,4),(5,4),nil).
p2((4,4),(5,5),right).
p2((4,4),(5,6),nil).
p2((4,4),(6,2),nil).
p2((4,4),(6,3),nil).
p2((4,4),(6,4),down).
p2((4,4),(6,5),nil).
p2((4,4),(6,6),nil).
p2((4,5),empty,nil).
p2((4,5),(2,3),nil).
p2((4,5),(2,4),nil).
p2((4,5),(2,5),up).
p2((4,5),(2,6),nil).
p2((4,5),(3,3),nil).
p2((4,5),(3,4),left).
p2((4,5),(3,5),nil).
p2((4,5),(3,6),right).
p2((4,5),(4,3),left).
p2((4,5),(4,4),nil).
p2((4,5),(4,6),nil).
p2((4,5),(5,3),nil).
p2((4,5),(5,4),left).
p2((4,5),(5,5),nil).
p2((4,5),(5,6),right).
p2((4,5),(6,3),nil).
p2((4,5),(6,4),nil).
p2((4,5),(6,5),down).
p2((4,5),(6,6),nil).
p2((4,6),empty,nil).
p2((4,6),(2,4),nil).
p2((4,6),(2,5),nil).
p2((4,6),(2,6),up).
p2((4,6),(3,4),nil).
p2((4,6),(3,5),left).
p2((4,6),(3,6),nil).
p2((4,6),(4,4),left).
p2((4,6),(4,5),nil).
p2((4,6),(5,4),nil).
p2((4,6),(5,5),left).
p2((4,6),(5,6),nil).
p2((4,6),(6,4),nil).
p2((4,6),(6,5),nil).
p2((4,6),(6,6),down).
p2((5,1),empty,nil).
p2((5,1),(3,1),up).
p2((5,1),(3,2),nil).
p2((5,1),(3,3),nil).
p2((5,1),(4,1),nil).
p2((5,1),(4,2),right).
p2((5,1),(4,3),nil).
p2((5,1),(5,2),nil).
p2((5,1),(5,3),right).
p2((5,1),(6,1),nil).
p2((5,1),(6,2),right).
p2((5,1),(6,3),nil).
p2((5,2),empty,nil).
p2((5,2),(3,1),nil).
p2((5,2),(3,2),up).
p2((5,2),(3,3),nil).
p2((5,2),(3,4),nil).
p2((5,2),(4,1),up).
p2((5,2),(4,2),nil).
p2((5,2),(4,3),right).
p2((5,2),(4,4),nil).
p2((5,2),(5,1),nil).
p2((5,2),(5,3),nil).
p2((5,2),(5,4),right).
p2((5,2),(6,1),down).
p2((5,2),(6,2),nil).
p2((5,2),(6,3),right).
p2((5,2),(6,4),nil).
p2((5,3),empty,nil).
p2((5,3),(3,1),nil).
p2((5,3),(3,2),nil).
p2((5,3),(3,3),up).
p2((5,3),(3,4),nil).
p2((5,3),(3,5),nil).
p2((5,3),(4,1),nil).
p2((5,3),(4,2),left).
p2((5,3),(4,3),nil).
p2((5,3),(4,4),right).
p2((5,3),(4,5),nil).
p2((5,3),(5,1),left).
p2((5,3),(5,2),nil).
p2((5,3),(5,4),nil).
p2((5,3),(5,5),right).
p2((5,3),(6,1),nil).
p2((5,3),(6,2),left).
p2((5,3),(6,3),nil).
p2((5,3),(6,4),down).
p2((5,3),(6,5),nil).
p2((5,4),empty,nil).
p2((5,4),(3,2),nil).
p2((5,4),(3,3),nil).
p2((5,4),(3,4),up).
p2((5,4),(3,5),nil).
p2((5,4),(3,6),nil).
p2((5,4),(4,2),nil).
p2((5,4),(4,3),left).
p2((5,4),(4,4),nil).
p2((5,4),(4,5),right).
p2((5,4),(4,6),nil).
p2((5,4),(5,2),left).
p2((5,4),(5,3),nil).
p2((5,4),(5,5),nil).
p2((5,4),(5,6),right).
p2((5,4),(6,2),nil).
p2((5,4),(6,3),down).
p2((5,4),(6,4),nil).
p2((5,4),(6,5),right).
p2((5,4),(6,6),nil).
p2((5,5),empty,nil).
p2((5,5),(3,3),nil).
p2((5,5),(3,4),nil).
p2((5,5),(3,5),up).
p2((5,5),(3,6),nil).
p2((5,5),(4,3),nil).
p2((5,5),(4,4),left).
p2((5,5),(4,5),nil).
p2((5,5),(4,6),right).
p2((5,5),(5,3),left).
p2((5,5),(5,4),nil).
p2((5,5),(5,6),nil).
p2((5,5),(6,3),nil).
p2((5,5),(6,4),left).
p2((5,5),(6,5),nil).
p2((5,5),(6,6),down).
p2((5,6),empty,nil).
p2((5,6),(3,4),nil).
p2((5,6),(3,5),nil).
p2((5,6),(3,6),up).
p2((5,6),(4,4),nil).
p2((5,6),(4,5),left).
p2((5,6),(4,6),nil).
p2((5,6),(5,4),left).
p2((5,6),(5,5),nil).
p2((5,6),(6,4),nil).
p2((5,6),(6,5),down).
p2((5,6),(6,6),down).
p2((6,1),empty,nil).
p2((6,1),(4,1),up).
p2((6,1),(4,2),nil).
p2((6,1),(4,3),nil).
p2((6,1),(5,1),nil).
p2((6,1),(5,2),right).
p2((6,1),(5,3),nil).
p2((6,1),(6,2),nil).
p2((6,1),(6,3),right).
p2((6,2),empty,nil).
p2((6,2),(4,1),nil).
p2((6,2),(4,2),up).
p2((6,2),(4,3),nil).
p2((6,2),(4,4),nil).
p2((6,2),(5,1),left).
p2((6,2),(5,2),nil).
p2((6,2),(5,3),right).
p2((6,2),(5,4),nil).
p2((6,2),(6,1),nil).
p2((6,2),(6,3),nil).
p2((6,2),(6,4),right).
p2((6,3),empty,nil).
p2((6,3),(4,1),nil).
p2((6,3),(4,2),nil).
p2((6,3),(4,3),up).
p2((6,3),(4,4),nil).
p2((6,3),(4,5),nil).
p2((6,3),(5,1),nil).
p2((6,3),(5,2),up).
p2((6,3),(5,3),nil).
p2((6,3),(5,4),right).
p2((6,3),(5,5),nil).
p2((6,3),(6,1),left).
p2((6,3),(6,2),nil).
p2((6,3),(6,4),nil).
p2((6,3),(6,5),right).
p2((6,4),empty,nil).
p2((6,4),(4,2),nil).
p2((6,4),(4,3),nil).
p2((6,4),(4,4),up).
p2((6,4),(4,5),nil).
p2((6,4),(4,6),nil).
p2((6,4),(5,2),nil).
p2((6,4),(5,3),left).
p2((6,4),(5,4),nil).
p2((6,4),(5,5),right).
p2((6,4),(5,6),nil).
p2((6,4),(6,2),left).
p2((6,4),(6,3),nil).
p2((6,4),(6,5),nil).
p2((6,4),(6,6),right).
p2((6,5),empty,nil).
p2((6,5),(4,3),nil).
p2((6,5),(4,4),nil).
p2((6,5),(4,5),up).
p2((6,5),(4,6),nil).
p2((6,5),(5,3),nil).
p2((6,5),(5,4),left).
p2((6,5),(5,5),nil).
p2((6,5),(5,6),right).
p2((6,5),(6,3),left).
p2((6,5),(6,4),nil).
p2((6,5),(6,6),right).
p2((1,1),empty,nil).
p2((1,1),(1,2),nil).
p2((1,1),(1,3),right).
p2((1,1),(2,1),nil).
p2((1,1),(2,2),right).
p2((1,1),(2,3),nil).
p2((1,1),(3,1),down).
p2((1,1),(3,2),nil).
p2((1,1),(3,3),nil).
p2((1,2),empty,nil).
p2((1,2),(1,1),nil).
p2((1,2),(1,3),nil).
p2((1,2),(1,4),right).
p2((1,2),(2,1),left).
p2((1,2),(2,2),nil).
p2((1,2),(2,3),right).
p2((1,2),(2,4),nil).
p2((1,2),(3,1),nil).
p2((1,2),(3,2),down).
p2((1,2),(3,3),nil).
p2((1,2),(3,4),nil).
p2((1,3),empty,nil).
p2((1,3),(1,1),left).
p2((1,3),(1,2),nil).
p2((1,3),(1,4),nil).
p2((1,3),(1,5),right).
p2((1,3),(2,1),nil).
p2((1,3),(2,2),left).
p2((1,3),(2,3),nil).
p2((1,3),(2,4),right).
p2((1,3),(2,5),nil).
p2((1,3),(3,1),nil).
p2((1,3),(3,2),nil).
p2((1,3),(3,3),down).
p2((1,3),(3,4),nil).
p2((1,3),(3,5),nil).
p2((1,4),empty,nil).
p2((1,4),(1,2),left).
p2((1,4),(1,3),nil).
p2((1,4),(1,5),nil).
p2((1,4),(1,6),right).
p2((1,4),(2,2),nil).
p2((1,4),(2,3),left).
p2((1,4),(2,4),nil).
p2((1,4),(2,5),right).
p2((1,4),(2,6),nil).
p2((1,4),(3,2),nil).
p2((1,4),(3,3),nil).
p2((1,4),(3,4),down).
p2((1,4),(3,5),nil).
p2((1,4),(3,6),nil).
p2((1,5),empty,nil).
p2((1,5),(1,3),left).
p2((1,5),(1,4),nil).
p2((1,5),(1,6),nil).
p2((1,5),(2,3),nil).
p2((1,5),(2,4),left).
p2((1,5),(2,5),nil).
p2((1,5),(2,6),right).
p2((1,5),(3,3),nil).
p2((1,5),(3,4),nil).
p2((1,5),(3,5),down).
p2((1,5),(3,6),nil).
p2((1,6),empty,nil).
p2((1,6),(1,4),left).
p2((1,6),(1,5),nil).
p2((1,6),(2,4),nil).
p2((1,6),(2,5),left).
p2((1,6),(2,6),nil).
p2((1,6),(3,4),nil).
p2((1,6),(3,5),nil).
p2((1,6),(3,6),down).

do1((L1, L2, G1), A) :- p1(L1, L2, A), goal1(G1).
do2((L1, L2, G2), A) :- p2(L1, L2, A), goal2(G2).

reached(S) :- goal_gState(S).
reached(S1) :- gState(S1), reached(S2),
	obs1(S1, AS1), do1(AS1, A1),
	obs2(S1, AS2), do2(AS2, A2),
	trans(S1, A1, A2, S2).
:- gState(S), not reached(S).

#show reached/1.